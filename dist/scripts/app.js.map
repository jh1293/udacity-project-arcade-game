{"version":3,"sources":["app.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","Resources","resPool","resURL","thisArg","resURLArray","split","type","length","image","Image","src","onload","audio","Audio","__WEBPACK_IMPORTED_MODULE_0__resources_js__","resources","effectsPool","delay","setTimeout","play","effects","forEach","load","Engine","target","stamp","delta","frames","state","gameMode","collisionCheckEnabled","context","init","loop","update","cleanup","render","loopID","window","requestAnimationFrame","bind","subject","dx","dy","distance","diff_radius","collision","center","x","y","Math","sqrt","radius","Number","event","CustomEvent","detail","document","dispatchEvent","cancelAnimationFrame","trunc","Actor","Player","Enemy","pos","spriteImage","drawImage","width","height","dest","interval","isMoving","direction","v","r","floor","random","GUI","Viewport","Canvas","Panel","Button","Sprite","Textbox","posX","posY","className","id","element","createElement","style","left","top","position","visibility","getElementById","appendChild","duration","animation","overflow","innerHTML","zIndex","getContext","text","Map","displayList","index","cor","tileSet","request","XMLHttpRequest","open","responseType","send","_tileSet","response","__WEBPACK_IMPORTED_MODULE_0__engine_js__","__WEBPACK_IMPORTED_MODULE_1__resources_js__","__WEBPACK_IMPORTED_MODULE_2__gui_js__","__WEBPACK_IMPORTED_MODULE_3__audio_js__","__WEBPACK_IMPORTED_MODULE_4__entities_js__","__WEBPACK_IMPORTED_MODULE_5__map_js__","engine","viewport","canvas","panel","btnStart","btnPause","optChar1","optChar2","optChar3","optChar4","optChar5","panelMsg","map","player","enemies","enemy","push","playerCharacter","sprite","toFixed","fps","collisionCheck","clearRect","appendTo","run","show","unfocus","elemChars","getElementsByClassName","addEventListener","strArray","String","fileName","msg","hide","focus","resume","preventDefault","pause","key","shift","console","log","reset"],"mappings":"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","file":"app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/** @module modules/resources */\r\n\r\n/** Class representing resource loader. */\r\nclass Resources {\r\n  constructor() {\r\n    /**\r\n     * Creating resource pool.\r\n     */\r\n    this.resPool = {};\r\n  }\r\n\r\n  /**\r\n   * Load a resource from specified URL to resource pool.\r\n   * @param {string} resURL - URL of a resource to be loaded.\r\n   */\r\n  load(resURL) {\r\n    let thisArg = this;\r\n    let resURLArray = resURL.split('.');  // Parse URL string.\r\n    let type = resURLArray[resURLArray.length - 1];  // Identify resource type.\r\n    if (thisArg.resPool[resURL]) {\r\n      /**\r\n       * If current requested resource already exists in resource pool, return it.\r\n       */\r\n      return thisArg.resPool[resURL];\r\n    } else {\r\n      /**\r\n       * If current requested resource does not exists in resource pool, create new one and return it, then add it to the resource pool for caching.\r\n       */\r\n      // Image resource.\r\n      if (type === 'png') {\r\n        let image = new Image();\r\n        image.src = resURL;\r\n        image.onload = function() {\r\n          thisArg.resPool[resURL] = image;\r\n        };\r\n        return image;\r\n      }\r\n      // Audio resource.\r\n      if (type === 'wav') {\r\n        let audio = new Audio();\r\n        audio.src = resURL;\r\n        audio.onload = function() {\r\n          thisArg.resPool[resURL] = audio;\r\n        }\r\n        return audio;\r\n      }\r\n    }\r\n  }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = Resources;\n\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources_js__ = __webpack_require__(0);\n/** @module modules/audio */\r\n\r\n\r\nlet resources = new __WEBPACK_IMPORTED_MODULE_0__resources_js__[\"default\"]();\r\n\r\n/** Class representing audio player. */\r\nclass Audio {\r\n  /**\r\n   * Creating effects pool as a buffer of audio effects.\r\n   */\r\n  constructor() {\r\n    this.effectsPool = {};\r\n  }\r\n\r\n  /**\r\n   * Get currently loaded effects.\r\n   */\r\n  get effects() {\r\n    return this.effectsPool;\r\n  }\r\n\r\n  /**\r\n   * Add an effect to the effects pool.\r\n   * @param {string} effects - URL of a audio file to be loaded as effect.\r\n   */\r\n  set effects(effects) {\r\n    effects.forEach((value) => {\r\n      this.effectsPool[value] = resources.load(value);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Play an audio clip.\r\n   * @param {string} effects - URL of a audio file to be played.\r\n   */\r\n  play(audio, delay = 0) {\r\n    setTimeout(() => {\r\n      this.effectsPool[audio].play();\r\n    }, delay * 1000);\r\n  }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = Audio;\n\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/** @module modules/engine */\r\n\r\n/** Class representing game engine. */\r\nclass Engine {\r\n  /**\r\n   * Create game engine.\r\n   */\r\n  constructor() {\r\n    this.target = null;  // Canvas context to be bound to engine.\r\n    this.stamp = 0;  // Last time stamp.\r\n    this.delta = 0;  // Current delta time.\r\n    this.frames = 0;  // Frame count since the engine started.\r\n    this.state = null;  // Engine state, null - pause; 100 - running.\r\n    this.gameMode = '';\r\n    this.collisionCheckEnabled = true;\r\n  }\r\n\r\n  /**\r\n   * Bind the engine to a canvas 2d context.\r\n   * @param {object} context - A canvas 2d context to be bound to.\r\n   */\r\n  bind(context) {\r\n    this.target = context;\r\n  }\r\n\r\n  /**\r\n   * Get current frame rates.\r\n   * @return {number} Frame rates.\r\n   */\r\n  get fps() {\r\n    return this.delta === 0 ? 0: Math.trunc(1 / this.delta);\r\n  }\r\n\r\n  /**\r\n   * Start the engine.\r\n   */\r\n  run() {\r\n    // Initialization was seperated from main loop, which will only be called once.\r\n    this.init();\r\n    function loop(stamp) {\r\n      this.delta = (stamp - this.stamp) / 1000;\r\n      this.stamp = stamp;\r\n      /**\r\n       * Divide the main loop into two seperated states.\r\n       * With state 100, main loop runs as normal.\r\n       * With state null, delta calculation runs as normal, while update and render process were been suspended.\r\n       * This way, main loop can be controlled at will.\r\n       */\r\n      if (this.state === 100) {\r\n          this.frames++;\r\n          this.update(this.delta);\r\n          this.cleanup(this.target);\r\n          this.render(this.target);\r\n      }\r\n      this.loopID = window.requestAnimationFrame(loop.bind(this));\r\n    }\r\n    loop.call(this);\r\n    /**\r\n     * The engine started with the state of paused, it will switch to normal state after 1000ms.\r\n     * Within the 1000ms, delta time will continue to be calculated, while update and render process were suspended.\r\n     * The purpose of doing this is the make sure all update and render process were under stable delta time.\r\n     */\r\n    setTimeout(() => {this.state = 100}, 1000);\r\n  }\r\n\r\n  /**\r\n   * Collision check.\r\n   * @param {object} subject A subject that going to be checked with others.\r\n   * @param {array} object An array of object that going to be checked with subject.\r\n   */\r\n  collisionCheck(subject, ...object) {\r\n    if (this.collisionCheckEnabled === false) {\r\n      return;\r\n    }\r\n    let dx, dy, distance, diff_radius;\r\n    object.forEach((value) => {\r\n      dx = subject.collision.center.x - value.collision.center.x;\r\n      dy = subject.collision.center.y - value.collision.center.y;\r\n      distance = Math.sqrt(dx * dx + dy * dy);\r\n      diff_radius = subject.collision.radius + value.collision.radius;\r\n      if (Number(distance) < Number(diff_radius)) {\r\n        let event = new CustomEvent('break', {detail: 'collide'});\r\n        document.dispatchEvent(event);  // Once collide, dispatch break event.\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Resume the engine.\r\n   */\r\n  resume() {\r\n    this.state = 100;\r\n  }\r\n\r\n  /**\r\n   * Pause the engine.\r\n   */\r\n  pause() {\r\n    this.state = null;\r\n  }\r\n\r\n  /**\r\n   * Completely stop the engine.\r\n   */\r\n  stop() {\r\n    window.cancelAnimationFrame(this.loopID);\r\n  }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = Engine;\n\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Actor\", function() { return Actor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Player\", function() { return Player; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Enemy\", function() { return Enemy; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources_js__ = __webpack_require__(0);\n/** @module modules/entities */\r\n\r\n\r\nlet resources = new __WEBPACK_IMPORTED_MODULE_0__resources_js__[\"default\"]();\r\n\r\n/** Class representing basic entity type. */\r\nclass Actor {\r\n  /**\r\n   * Create an actor.\r\n   */\r\n  constructor() {\r\n    this.pos = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.spriteImage = null;\r\n    this.collision = {\r\n      center: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      radius: 0\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Get width of current actor.\r\n   * @return {number} Width of current actor.\r\n   */\r\n  get width() {\r\n    return this.spriteImage.width;\r\n  }\r\n\r\n  /**\r\n   * Get height of current actor.\r\n   * @return {number} Height of current actor.\r\n   */\r\n  get height() {\r\n    return this.spriteImage.height;\r\n  }\r\n\r\n  /**\r\n   * Get sprite image of current actor.\r\n   * @return {object} Sprite image of current actor.\r\n   */\r\n  get sprite() {\r\n    return this.spriteImage;\r\n  }\r\n\r\n  /**\r\n   * Set sprite image of current actor.\r\n   * @param {string} resURL URL of image to be set as sprite image.\r\n   */\r\n  set sprite(resURL) {\r\n    this.spriteImage = resources.load(resURL);\r\n  }\r\n\r\n  /**\r\n   * Render current actor to a canvas 2d context.\r\n   * @param {object} context The target context.\r\n   */\r\n  render(context) {\r\n    context.drawImage(this.spriteImage, this.pos.x, this.pos.y, this.spriteImage.width, this.spriteImage.height);\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing player.\r\n * @extends Actor\r\n */\r\nclass Player extends Actor {\r\n  /**\r\n   * Create the player.\r\n   */\r\n  constructor() {\r\n    super();\r\n    this.dest = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.interval = 0.05;  // Specify moving speed.\r\n    this.isMoving = false;\r\n  }\r\n\r\n  /**\r\n   * Update player's properties.\r\n   * @param {number} delta Delta time generated by the engine.\r\n   */\r\n  update(delta) {\r\n\r\n    // Moveable area restriction\r\n    // '10' at the end of each expression is a tolerance value.\r\n    if (this.dest.x < 0 - 10) {\r\n      this.dest.x = this.pos.x;\r\n    }\r\n    if (this.dest.x > 500 - this.width + 10) {\r\n      this.dest.x = this.pos.x;\r\n    }\r\n    if (this.dest.y < (-30) - 10) {\r\n      this.dest.y = this.pos.y;\r\n    }\r\n    if (this.dest.y > 650 - this.height + 10) {\r\n      this.dest.y = this.pos.y;\r\n    }\r\n\r\n    // Condition to win\r\n    if (this.pos.y < -28) {\r\n      let event = new CustomEvent('break', {detail: 'reach'});\r\n      document.dispatchEvent(event);\r\n    }\r\n\r\n    // Update position properties\r\n    this.pos.x += (this.dest.x - this.pos.x) / this.interval * delta;\r\n    this.pos.y += (this.dest.y - this.pos.y) / this.interval * delta;\r\n  }\r\n\r\n  /**\r\n   * Shift player to a new location.\r\n   * @param {string} direction Direction implying player to be shifted.\r\n   */\r\n  shift(direction) {\r\n    if (this.isMoving != true) {\r\n      switch (direction) {\r\n        case 'up':\r\n          this.dest.y = this.pos.y - 80;\r\n          break;\r\n        case 'down':\r\n          this.dest.y = this.pos.y + 80;\r\n          break;\r\n        case 'left':\r\n          this.dest.x = this.pos.x - 100;\r\n          break;\r\n        case 'right':\r\n          this.dest.x = this.pos.x + 100;\r\n          break;\r\n      }\r\n      this.isMoving = true;\r\n      setTimeout(() => {this.isMoving = false;}, this.interval * 4000);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reset player to the original position.\r\n   */\r\n  reset() {\r\n    this.dest.x = 200;\r\n    this.dest.y = 450;\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing enemy.\r\n * @extends Actor\r\n */\r\nclass Enemy extends Actor {\r\n  /**\r\n   * Create an enemy.\r\n   */\r\n  constructor() {\r\n    super();\r\n    this.v = 100;  // Enemy's basic velocity\r\n    this.r = Math.floor(Math.random() * 5) + 1;  // Enemy's velocity modifier, random number between 1-5\r\n  }\r\n\r\n  /**\r\n   * Update enemy's properties.\r\n   * @param {number} delta Delta time generated by the engine.\r\n   */\r\n  update(delta) {\r\n    this.pos.x += this.v * this.r * delta;\r\n    if (this.pos.x > 502) {\r\n      this.pos.x = ((Math.random() * 3) + 1) * (-100);\r\n      this.r = Math.floor(Math.random() * 5) + 1;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GUI\", function() { return GUI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Viewport\", function() { return Viewport; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Canvas\", function() { return Canvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Panel\", function() { return Panel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Button\", function() { return Button; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Sprite\", function() { return Sprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Textbox\", function() { return Textbox; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources_js__ = __webpack_require__(0);\n/** @module modules/gui */\r\n\r\n\r\nlet resources = new __WEBPACK_IMPORTED_MODULE_0__resources_js__[\"default\"]();\r\n\r\n/** Class representing basic GUI element. */\r\nclass GUI {\r\n    /**\r\n     * Create a GUI element.\r\n     * @param {number} posX - The left offset of this element.\r\n     * @param {number} posY - The top offset of this element.\r\n     * @param {number} width - The wisth of this element.\r\n     * @param {number} height - The height of this element.\r\n     * @param {string} className - The class name of this element.\r\n     * @param {string} id - The id of this element.\r\n     */\r\n  constructor(posX, posY, width, height, className, id) {\r\n    this.element = document.createElement('div');\r\n    this.element.style.left = posX + 'px';\r\n    this.element.style.top = posY + 'px';\r\n    this.element.style.width = width + 'px';\r\n    this.element.style.height = height + 'px';\r\n    this.element.className = className;\r\n    this.element.id = id;\r\n    this.element.style.position = 'absolute';  // GUI elements were positioned relatively to their parent elements.\r\n    this.element.style.visibility = 'hidden';  // The element is invisible by default.\r\n  }\r\n\r\n  /**\r\n   * Append current element to another element.\r\n   */\r\n  appendTo(id) {\r\n    document.getElementById(id).appendChild(this.element)\r\n  }\r\n\r\n  /**\r\n   * Hide current element with fadeout animation.\r\n   * @param {number} duration - The duration of fadeout animation, default 0 (The element will hide immediately).\r\n   * @param {number} delay - The delay of fadeout animation, default 0 (No delay).\r\n   */\r\n  hide(duration = 0, delay = 0) {\r\n    setTimeout(() => {\r\n      this.element.style.animation = `fadeout ${duration}s forwards`;\r\n      setTimeout(() => {\r\n        this.element.style.visibility = 'hidden';\r\n      }, duration * 1000);  // Actually hide the element after animation ends.\r\n    }, delay * 1000);\r\n  }\r\n\r\n  /**\r\n   * Show current element with fadeout animation.\r\n   * @param {number} duration - The duration of fadein animation, default 0 (The element will hide immediately).\r\n   * @param {number} delay - The delay of fadein animation, default 0 (No delay).\r\n   */\r\n  show(duration = 0, delay = 0) {\r\n    setTimeout(() => {\r\n      this.element.style.visibility = 'visible';\r\n      this.element.style.animation = `fadein ${duration}s forwards`;\r\n    }, delay * 1000);\r\n\r\n  }\r\n\r\n  /**\r\n   * Simulate camera focus effect to current element.\r\n   * @param {number} duration - The duration of focus animation, default 0 (The element will hide immediately).\r\n   * @param {number} delay - The delay of focus animation, default 0 (No delay).\r\n   */\r\n  focus(duration = 0, delay = 0) {\r\n    setTimeout(() => {\r\n      this.element.style.animation = `focus ${duration}s forwards`;\r\n    }, delay * 1000);\r\n  }\r\n\r\n  /**\r\n   * Simulate camera unfocus effect to current element.\r\n   * @param {number} duration - The duration of unfocus animation, default 0 (The element will hide immediately).\r\n   * @param {number} delay - The delay of unfocus animation, default 0 (No delay).\r\n   */\r\n  unfocus(duration = 0, delay = 0) {\r\n    setTimeout(() => {\r\n      this.element.style.animation = `unfocus ${duration}s forwards`;\r\n    }, delay * 1000);\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing viewport.\r\n * @extends GUI\r\n */\r\nclass Viewport extends GUI {\r\n  /**\r\n   * Create a viewport.\r\n   * @param {number} width - The wisth of viewport.\r\n   * @param {number} height - The height of viewport.\r\n   * @param {string} className - The class name of viewport.\r\n   * @param {string} id - The id of viewport.\r\n   */\r\n  constructor(width, height, className, id) {\r\n    super(null, null, width, height, className, id);\r\n    this.element.style.position = 'relative';  // Viewports were considered as general container for all GUI elements.\r\n    this.element.style.overflow = 'hidden';  // Any GUI elements beyond viewport area are invisible.\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing canvas.\r\n * @extends GUI\r\n */\r\nclass Canvas extends GUI {\r\n  /**\r\n   * Create a canvas.\r\n   * @param {number} width - The wisth of canvas.\r\n   * @param {number} height - The height of canvas.\r\n   * @param {string} className - The class name of canvas.\r\n   * @param {string} id - The id of canvas.\r\n   */\r\n  constructor(width, height, className, id) {\r\n    super();\r\n    this.element = document.createElement('canvas');\r\n    this.element.width = width;\r\n    this.element.height = height;\r\n    this.element.className = className;\r\n    this.element.id = id;\r\n    this.element.innerHTML = 'It seems like your browser doesn\\'t support HTML5.';\r\n    this.element.style.position = 'absolute';\r\n    this.element.style.visibility = 'hidden';\r\n    this.element.style.zIndex = 0;\r\n  }\r\n\r\n  /**\r\n   * Get the width of current canvas.\r\n   * @return {number} Width of current canvas.\r\n   */\r\n  get width() {\r\n    return this.element.width;\r\n  }\r\n\r\n  /**\r\n   * Get the height of current canvas.\r\n   * @return {number} Height of current canvas.\r\n   */\r\n  get height() {\r\n    return this.element.height;\r\n  }\r\n\r\n  /**\r\n   * Get the 2d context of current canvas.\r\n   * @return {object} 2d context of current canvas.\r\n   */\r\n  get context() {\r\n    return this.element.getContext('2d');\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing a panel.\r\n * @extends GUI\r\n */\r\nclass Panel extends GUI {\r\n  /**\r\n   * Create a panel element.\r\n   * @param {number} posX - The left offset of this panel.\r\n   * @param {number} posY - The top offset of this panel.\r\n   * @param {number} width - The wisth of this panel.\r\n   * @param {number} height - The height of this panel.\r\n   * @param {string} className - The class name of this panel.\r\n   * @param {string} id - The id of this panel.\r\n   */\r\n  constructor(posX, posY, width, height, className, id) {\r\n    super(posX, posY, width, height, className, id);\r\n    this.element.style.zIndex = 100;\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing a button.\r\n * @extends GUI\r\n */\r\nclass Button extends GUI {\r\n  /**\r\n   * Create a button element.\r\n   * @param {number} posX - The left offset of this button.\r\n   * @param {number} posY - The top offset of this button.\r\n   * @param {number} width - The wisth of this button.\r\n   * @param {number} height - The height of this button.\r\n   * @param {string} className - The class name of this button.\r\n   * @param {string} id - The id of this button.\r\n   * @param {string} value - The text that shows on the button.\r\n   */\r\n  constructor(posX, posY, width, height, className, id, value) {\r\n    super();\r\n    this.element = document.createElement('button');\r\n    this.element.style.left = posX + 'px';\r\n    this.element.style.top = posY + 'px';\r\n    this.element.style.width = width + 'px';\r\n    this.element.style.height = height + 'px';\r\n    this.element.className = className;\r\n    this.element.id = id;\r\n    this.element.style.position = 'absolute';\r\n    this.element.innerHTML = value;\r\n    this.element.style.visibility = 'hidden';\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing a sprite image.\r\n * @extends GUI\r\n */\r\nclass Sprite extends GUI {\r\n  /**\r\n   * Create a sprite image.\r\n   * @param {number} posX - The left offset of this sprite image.\r\n   * @param {number} posY - The top offset of this sprite image.\r\n   * @param {number} width - The wisth of this sprite image.\r\n   * @param {number} height - The height of this sprite image.\r\n   * @param {string} className - The class name of this sprite image.\r\n   * @param {string} id - The id of this sprite image.\r\n   * @param {string} src - The URL of this sprite image.\r\n   */\r\n  constructor(posX, posY, width, height, className, id, src) {\r\n    super();\r\n    this.element = resources.load(src);\r\n    this.element.style.left = posX + 'px';\r\n    this.element.style.top = posY + 'px';\r\n    this.element.style.width = width + 'px';\r\n    this.element.style.height = height + 'px';\r\n    this.element.className = className;\r\n    this.element.id = id;\r\n    this.element.style.position = 'absolute';\r\n  }\r\n}\r\n\r\n/**\r\n * Class representing a textbox.\r\n * @extends GUI\r\n */\r\nclass Textbox extends GUI {\r\n  /**\r\n   * Create a textbox.\r\n   * @param {number} posX - The left offset of this textbox.\r\n   * @param {number} posY - The top offset of this textbox.\r\n   * @param {number} width - The wisth of this textbox.\r\n   * @param {number} height - The height of this textbox.\r\n   * @param {string} className - The class name of this textbox.\r\n   * @param {string} id - The id of this textbox.\r\n   * @param {string} text - The URL of this textbox.\r\n   */\r\n  constructor(posX, posY, width, height, className, id, text) {\r\n    super(posX, posY, width, height, className, id);\r\n    this.element.innerHTML = text;\r\n  }\r\n  /**\r\n   * Change text of this textbox.\r\n   * @param {string} text - The text of this textbox.\r\n   */\r\n  text(text) {\r\n    this.element.innerHTML = text;\r\n  }\r\n}\r\n\r\n\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources_js__ = __webpack_require__(0);\n/** @module modules/map */\r\n\r\n\r\nlet resources = new __WEBPACK_IMPORTED_MODULE_0__resources_js__[\"default\"]();\r\n\r\n/** Class representing map. */\r\nclass Map {\r\n  /**\r\n   * Create display list used for generating the map.\r\n   */\r\n  constructor() {\r\n    this.displayList = {};\r\n  }\r\n\r\n  /**\r\n   * Get the tileset of current map.\r\n   * @return {object} Tileset of current map, aka. display list.\r\n   */\r\n  get tileSet() {\r\n    return this.displayList;\r\n  }\r\n\r\n  /**\r\n   * Set the tileset of current map.\r\n   * @param {string} tileSet - URL of a json file contains the tileset information.\r\n   */\r\n  set tileSet(tileSet) {\r\n    let thisArg = this;\r\n    let request = new XMLHttpRequest();\r\n    request.open('GET', tileSet);\r\n    request.responseType = 'json';\r\n    request.send();\r\n    request.onload = function() {\r\n      let _tileSet = request.response;\r\n      for(let index in _tileSet) {\r\n        thisArg.displayList[index] = {};\r\n        thisArg.displayList[index].image = resources.load(_tileSet[index].src);\r\n        thisArg.displayList[index].cor = _tileSet[index].cor;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Render map based on tileset.\r\n   * @param {object} context - Target canvas 2d context.\r\n   */\r\n  render(context) {\r\n    for (let index in this.displayList) {\r\n      let image = this.displayList[index].image;\r\n      this.displayList[index].cor.forEach((value) => {\r\n        context.drawImage(image, value[0] * 100, value[1] * 80, image.width, image.height);\r\n      });\r\n    }\r\n  }\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = Map;\n\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\n__webpack_require__(2);\n__webpack_require__(3);\n__webpack_require__(7);\n__webpack_require__(4);\n__webpack_require__(5);\nmodule.exports = __webpack_require__(0);\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__engine_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__resources_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__gui_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__audio_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__entities_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__map_js__ = __webpack_require__(5);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Instantiating area.\r\n */\r\nlet engine = new __WEBPACK_IMPORTED_MODULE_0__engine_js__[\"default\"]();  // Game engine\r\nlet viewport = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Viewport\"](500, 650, 'viewport', 'viewport');  // Viewport\r\nlet canvas = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Canvas\"](500, 650, 'canvas', 'canvas');  // canvas\r\nlet panel = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Panel\"](50, 100, 400, 450, 'panel', 'panel');\r\nlet btnStart = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Button\"](140, 350, 120, 50, 'btn btn__control--color-green', 'btn-start', 'Start');\r\nlet btnPause = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Button\"](10, 10, 80, 30, 'btn btn__control--color-orange', 'btn-pause', 'Pause');\r\nlet optChar1 = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Sprite\"](30, 0, 101, 170, 'sprite__char', 'char-1', './images/char-boy.png');\r\nlet optChar2 = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Sprite\"](150, 0, 101, 170, 'sprite__char', 'char-2', './images/char-cat-girl.png');\r\nlet optChar3 = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Sprite\"](270, 0, 101, 170, 'sprite__char', 'char-3', './images/char-horn-girl.png');\r\nlet optChar4 = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Sprite\"](90, 120, 101, 170, 'sprite__char', 'char-4', './images/char-pink-girl.png');\r\nlet optChar5 = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Sprite\"](210, 120, 101, 170, 'sprite__char', 'char-5', './images/char-princess-girl.png');\r\nlet panelMsg = new __WEBPACK_IMPORTED_MODULE_2__gui_js__[\"Textbox\"](0, 300, 400, 50, 'panel__msg', 'msg', 'Choose Your Character');\r\nlet audio = new __WEBPACK_IMPORTED_MODULE_3__audio_js__[\"default\"]();  // Sound system\r\nlet map = new __WEBPACK_IMPORTED_MODULE_5__map_js__[\"default\"]();  // Map\r\nlet player = new __WEBPACK_IMPORTED_MODULE_4__entities_js__[\"Player\"]();  // Player entity\r\nlet enemies = [];\r\nfor (let i = 0; i < 8; i++) {\r\n  let enemy = new __WEBPACK_IMPORTED_MODULE_4__entities_js__[\"Enemy\"]();  // Enemy entities\r\n  enemies.push(enemy);\r\n}\r\n\r\n/**\r\n * Global variables.\r\n */\r\nlet playerCharacter = null;\r\n\r\n/**\r\n * Building scene tree.\r\n * Being the first step of all creations.\r\n */\r\n// viewport.appendTo('game');\r\n// canvas.appendTo('viewport');\r\n\r\n/**\r\n * Bind engine to the canvas.\r\n */\r\nengine.bind(canvas.context);\r\n\r\n/**\r\n * All the initialization works should be done within this function.\r\n * The game engine will only call this function one time brfore main loop starts.\r\n */\r\nengine.init = function() {\r\n\r\n  audio.effects = [\r\n    './audio/hit1.wav',\r\n    './audio/hit2.wav',\r\n    './audio/win1.wav',\r\n    './audio/win2.wav',\r\n    './audio/win3.wav',\r\n    './audio/win4.wav'\r\n  ];\r\n\r\n  player.sprite = playerCharacter || './images/char-boy.png';\r\n  player.pos.x = player.dest.x = 200;\r\n  player.pos.y = player.dest.y = 450;\r\n\r\n  enemies.forEach((value, index) => {\r\n    value.sprite = './images/enemy-bug.png';\r\n    value.pos.x = ((Math.random() * 3) + 1) * (-200);  // Keep cars away as the game starts\r\n    if (index % 4 === 0) {  // For each line of stone, there are two cars running\r\n      enemies[index].pos.y = 50;\r\n      enemies[index + 1].pos.y = 130;\r\n      enemies[index + 2].pos.y = 290;\r\n      enemies[index + 3].pos.y = 370;\r\n    }\r\n  });\r\n\r\n  map.tileSet = './images/map.json';\r\n};\r\n\r\n/**\r\n * The first part of main loop.\r\n * This function handles math related stuff, such as update entities, collision check.\r\n */\r\nengine.update = function(delta) {\r\n\r\n  document.getElementById('m-dt').innerHTML = delta.toFixed(4);\r\n  document.getElementById('m-frame').innerHTML = this.frames;\r\n  document.getElementById('m-fps').innerHTML = this.fps;\r\n\r\n  player.collision = {\r\n        center: {\r\n          x: player.pos.x + 50,\r\n          y: player.pos.y + 100\r\n        },\r\n        radius: 36\r\n      };\r\n  player.update(delta);\r\n\r\n  enemies.forEach((value) => {\r\n    value.collision = {\r\n          center: {\r\n            x: value.pos.x + 75,\r\n            y: value.pos.y + 100\r\n          },\r\n          radius: 20\r\n        };\r\n    value.update(delta);\r\n  });\r\n\r\n  engine.collisionCheck(player, ...enemies);\r\n};\r\n\r\n/**\r\n * The second part of main loop.\r\n * Clean up entire canvas before actually drawing this frame.\r\n */\r\nengine.cleanup = function(target) {\r\n  target.clearRect(0, 0, canvas.width, canvas.height);\r\n};\r\n\r\n/**\r\n * The third part of main loop.\r\n * Invoke .render() method of all instances.\r\n */\r\nengine.render = function(target) {\r\n\r\n  map.render(target);\r\n\r\n  enemies.forEach((value) => {\r\n    value.render(target);\r\n  });\r\n  player.render(target);\r\n};\r\n\r\n\r\n\r\n/**\r\n * Handling events.\r\n */\r\n\r\n // Document ready.\r\n(() => {\r\n\r\n  viewport.appendTo('game');\r\n  canvas.appendTo('viewport');\r\n\r\n  engine.run();\r\n\r\n  viewport.show(0.5);\r\n  canvas.show(1, 1);\r\n\r\n  panel.appendTo('viewport');\r\n  btnPause.appendTo('viewport')\r\n  btnStart.appendTo('panel');\r\n  optChar1.appendTo('panel');\r\n  optChar2.appendTo('panel');\r\n  optChar3.appendTo('panel');\r\n  optChar4.appendTo('panel');\r\n  optChar5.appendTo('panel');\r\n  panelMsg.appendTo('panel');\r\n\r\n  // Hide player character before game start.\r\n  player.pos.x = player.dest.x = 200;\r\n  player.pos.y = player.dest.y = 650;\r\n\r\n  setTimeout(() => {\r\n    canvas.unfocus(0.5);\r\n    panel.show(0.5, 0.5);\r\n    panelMsg.show(0.5, 1);\r\n    btnStart.show(0.5, 1.5);\r\n  }, 4000);\r\n})();\r\n\r\n// Character choose\r\nlet elemChars = document.getElementsByClassName('sprite__char');\r\nfor (let i = 0; i < elemChars.length; i++) {\r\n  elemChars[i].addEventListener('click', (event) => {\r\n    let strArray = String(event.target.src).split('/');\r\n    let fileName = strArray[strArray.length - 1];\r\n    let msg;\r\n    playerCharacter = `./images/${fileName}`;\r\n    switch (fileName) {\r\n      case 'char-boy.png':\r\n        msg = 'You\\'ve chosen Boy!';\r\n        break;\r\n      case 'char-cat-girl.png':\r\n        msg = 'You\\'ve chosen Cat Girl!';\r\n        break;\r\n      case 'char-horn-girl.png':\r\n        msg = 'You\\'ve chosen Horn Girl!';\r\n        break;\r\n      case 'char-pink-girl.png':\r\n        msg = 'You\\'ve chosen Pink Girl!';\r\n        break;\r\n      case 'char-princess-girl.png':\r\n        msg = 'You\\'ve chosen Princess Girl!';\r\n        break;\r\n    }\r\n    panelMsg.text(msg);\r\n  });\r\n}\r\n\r\ndocument.getElementById('btn-start').addEventListener('click', (event) => {\r\n  engine.init();\r\n  panel.hide(0.5);\r\n  canvas.focus(0.5, 0.5);\r\n  btnPause.show(0.5, 0.5)\r\n  engine.resume();\r\n  event.preventDefault();\r\n});\r\n\r\ndocument.getElementById('btn-pause').addEventListener('click', (event) => {\r\n  if (engine.state) {\r\n    engine.pause();\r\n  } else {\r\n    engine.resume();\r\n  }\r\n  event.preventDefault();\r\n});\r\n\r\n\r\ndocument.addEventListener('keydown', (event) => {\r\n  switch (event.key) {\r\n    case 'Up':\r\n    case 'ArrowUp':\r\n      player.shift('up');\r\n      break;\r\n    case 'Down':\r\n    case 'ArrowDown':\r\n      player.shift('down');\r\n      break;\r\n    case 'Left':\r\n    case 'ArrowLeft':\r\n      player.shift('left');\r\n      break;\r\n    case 'Right':\r\n    case 'ArrowRight':\r\n      player.shift('right');\r\n      break;\r\n  }\r\n});\r\n\r\ndocument.addEventListener('break', (event) => {\r\n  switch(event.detail) {\r\n    case 'reach':\r\n      engine.pause();\r\n      canvas.unfocus(0.5);\r\n      panel.show(0.5, 0.5);\r\n      btnPause.hide(0.1);\r\n      audio.play(`./audio/win${Math.floor(Math.random() * 4) + 1}.wav`);\r\n      break;\r\n    case 'collide':\r\n    console.log('collide');\r\n      engine.collisionCheckEnabled = false;  // Avoid collision events overlapping.\r\n      player.reset();\r\n      audio.play(`./audio/hit${Math.floor(Math.random() * 2) + 1}.wav`);\r\n      setTimeout(() => {\r\n        engine.collisionCheckEnabled = true;\r\n      }, player.interval * 1000);\r\n      break;\r\n    }\r\n});\r\n\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=app.js.map"]}